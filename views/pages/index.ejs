<!DOCTYPE html>
<html>
<head>
    <%- include ("../partials/header") %>
</head>

<body>
    <%- include ("../partials/nav") %>
    <% function capitalize(string) {
        // https://stackoverflow.com/questions/1026069/how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript
        return string[0].toUpperCase() + string.substring(1)
    } %>
    <div class="container">
        <h1>People</h1>
        <ul>
            <% results.forEach(function(r) { %>
                <% if (r.type == null) { %>
                    <svg width="<%= r.size + 10 %>" height="<%= r.height + 10 %>">
                        <rect x="5" y="5" width="<%= r.size %>" height="<%= r.height %>"
                        style="fill:#ccc;stroke:#999;stroke-width:5" />
                    </svg>
                <% } else if (r.type.trim() == 'male') { %>
                    <svg width="<%= r.size + 10 %>" height="<%= r.height + 10 %>">
                        <rect x="5" y="5" width="<%= r.size %>" height="<%= r.height %>"
                        style="fill:blue;stroke:#999;stroke-width:5" />
                    </svg>
                <% } else { %>
                    <svg width="<%= r.size + 10 %>" height="<%= r.height + 10 %>">
                        <rect x="5" y="5" width="<%= r.size %>" height="<%= r.height %>"
                        style="fill:pink;stroke:#999;stroke-width:5" />
                    </svg>
                <% } %>
                <li>
                    <a href="/person/<%= r.id %>"><%= capitalize(r.name.trim()) %></a>
                </li>
            <% }); %>
        </ul>
    </div>
</body>
</html>